<div class="modal-overlay" (click)="closeWindow()"></div>
<div class="modal-container">
  <div class="modal-header">
    <h2>New Grade</h2>
    <button class="close-button" (click)="closeWindow()">
      <i class="bi bi-x-lg"></i>
    </button>
  </div>

  <div class="modal-body">
    <!-- Student Selector -->
    <div class="form-group mb-3">
      <label for="student-search" class="form-label">Search Student</label>
      <input
        id="student-search"
        type="text"
        class="form-control"
        placeholder="Type name or surname"
        [(ngModel)]="studentSearchQuery"
        (input)="filterStudents()"
      />
      <div class="student-dropdown" *ngIf="filteredStudentList.length > 0">
        <div
          *ngFor="let student of filteredStudentList"
          class="student-item"
          (click)="selectStudent(student)"
        >
          {{ student.name }} {{ student.surname }}
        </div>
      </div>
    </div>

    <!-- Grade Value Input -->
    <div class="form-group mb-3">
      <label for="grade-value" class="form-label">Grade (0-100)</label>
      <input
        id="grade-value"
        type="number"
        class="form-control"
        placeholder="Enter grade"
        [(ngModel)]="gradeValue"
        min="0"
        max="100"
      />
    </div>

    <!-- Weight Selector -->
    <div class="form-group mb-3">
      <label for="grade-weight" class="form-label">Wage</label>
      <select id="grade-weight" class="form-select" [(ngModel)]="gradeWage">
        <option [ngValue]="1">1</option>
        <option [ngValue]="2">2</option>
        <option [ngValue]="3">3</option>
      </select>
    </div>

    <!-- Description Field -->
    <div class="form-group mb-3">
      <label for="grade-description" class="form-label">Description</label>
      <textarea
        id="grade-description"
        class="form-control"
        placeholder="Enter description"
        [(ngModel)]="gradeDescription"
      ></textarea>
    </div>
  </div>

  <div class="modal-footer">
    <button class="confirm-button" (click)="confirmSelection()">Confirm</button>
  </div>
</div>
